---
title: "F246319 prediction and reality"
author: "Christian Panse"
date: "2017-03-04"

vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{NestLink - F246319}
output:
  html_document:
    theme: united	
    toc: true
---

# load

```{r}
library(specL)
```

```{r}
load(url('http://fgcz-ms.uzh.ch/~cpanse/p1875/F246319.RData'))
```


# RT versus SSRC

```{r fig.retina=3}
idx <- which(unlist(lapply(F246319, function(x){grepl("NB_", x$proteinInformation) && x$mascotScore > 30})))

score <- sapply(F246319[idx], function(x){x$mascotScore})
hyd <- sapply(F246319[idx], function(x){ssrc(x$peptideSequence)})
rt <- sapply(F246319[idx], function(x){x$rtinseconds})
peptide <- sapply(F246319[idx], function(x){as.character(x$peptideSequence)})
smoothScatter(hyd ~ rt)
abline(lm(hyd ~ rt), col='red')
cor(hyd , rt)

```


```{r}
freq <- table(strsplit(paste(peptide, collapse=''), ''))

100 * freq / max(freq)

round(100 * freq / max(freq))
```


# C-Term

```{r}
cTerm <- c('WR','WLTVR','WQEGGR','WQSR','WLR')
cTerm.freq <- sapply(cTerm , function(x){sum(grepl(paste(x, "$",sep=''), peptide))})
round(100 * cTerm.freq / sum(cTerm.freq))

```